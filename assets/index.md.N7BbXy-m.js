import{B as e,Q as t,s as n,z as r}from"./chunks/framework.C7gQUmET.js";const i=JSON.parse(`{"title":"FT Responsive 文档","description":"","frontmatter":{},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1762852799000}`);var a={name:`index.md`};function o(n,i,a,o,s,c){return t(),r(`div`,null,[...i[0]||=[e(`<h1 id="ft-responsive-文档" tabindex="-1">FT Responsive 文档 <a class="header-anchor" href="#ft-responsive-文档" aria-label="Permalink to &quot;FT Responsive 文档&quot;">​</a></h1><blockquote><p>跨 Vue 2 / Vue 3 / React 的响应式布局与 <code>styled</code> 语法工具。</p></blockquote><ul><li>一套核心 runtime，按需加载 Vue / React 适配层</li><li>提供 <code>styled.div</code> 风格 API、Masonry 虚拟滚动、全局主题</li><li>支持 SSR 预渲染、首帧延迟写 DOM、polyfill 自动注入</li></ul><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @tlgf/responsive</span></span></code></pre></div><h3 id="vue-3-使用方式" tabindex="-1">Vue 3 使用方式 <a class="header-anchor" href="#vue-3-使用方式" aria-label="Permalink to &quot;Vue 3 使用方式&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./App.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createResponsivePlugin, pcPreset } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive/styles.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createResponsivePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pcPreset))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="vue-2-使用方式" tabindex="-1">Vue 2 使用方式 <a class="header-anchor" href="#vue-2-使用方式" aria-label="Permalink to &quot;Vue 2 使用方式&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Vue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createResponsivePlugin } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive/styles.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Vue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createResponsivePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ designWidth: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1280</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }));</span></span></code></pre></div><blockquote><p>插件会在检测到 Vue 2 时自动尝试 <code>Vue.use(@vue/composition-api)</code>；如果你的项目已通过 CDN 等方式注入 Composition API，会复用现有实例。</p></blockquote><h3 id="react-使用方式" tabindex="-1">React 使用方式 <a class="header-anchor" href="#react-使用方式" aria-label="Permalink to &quot;React 使用方式&quot;">​</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ResponsiveProvider } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive/react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive/styles.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ResponsiveProvider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ designWidth: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1440</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ResponsiveProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p><code>ResponsiveProvider</code> 会对 <code>options</code> 做浅比较，保持稳定引用可避免重复创建内部 manager。</p></blockquote><blockquote><p><strong>CSS 引入</strong>：生产项目请统一在入口文件中 <code>import &quot;@tlgf/responsive/styles.css&quot;</code>，该路径由包的 <code>exports</code> 暴露，现代构建工具可直接解析。</p></blockquote><h2 id="核心能力速览" tabindex="-1">核心能力速览 <a class="header-anchor" href="#核心能力速览" aria-label="Permalink to &quot;核心能力速览&quot;">​</a></h2><h3 id="响应式-runtime" tabindex="-1">响应式 Runtime <a class="header-anchor" href="#响应式-runtime" aria-label="Permalink to &quot;响应式 Runtime&quot;">​</a></h3><ul><li><code>createResponsiveManager()</code>：统一的缩放/断点管理，支持 <code>initialSnapshot</code>、<code>skipInitialUpdate</code>、<code>suppressInitialDomWrite</code> 等 SSR 选项</li><li><code>ResponsiveContainer</code> / <code>useResponsive()</code>：跨框架注入同一份状态，提供 <code>viewportWidth</code>、<code>breakpoint</code>、<code>scale</code> 等变量，适配 PC / 移动端 / 大屏</li><li><code>flushDom()</code>、<code>getLayoutSnapshot()</code>：便于服务端 hydration 与调试</li></ul><h3 id="styled-体系" tabindex="-1"><code>styled</code> 体系 <a class="header-anchor" href="#styled-体系" aria-label="Permalink to &quot;\`styled\` 体系&quot;">​</a></h3><ul><li><code>styled.div</code>、<code>styled(MyComponent)</code>：同构模板字符串语法，支持 Vue/React</li><li><code>attrs()</code> / <code>withConfig()</code>：支持类型推导，自动合并 props/主题/响应式上下文</li><li>内置 <code>cssVar()</code>、<code>themeVar()</code> 辅助函数，快速绑定 CSS 变量</li></ul><h3 id="布局与数据组件" tabindex="-1">布局与数据组件 <a class="header-anchor" href="#布局与数据组件" aria-label="Permalink to &quot;布局与数据组件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>组件</th><th>说明</th></tr></thead><tbody><tr><td><code>ResponsiveContainer</code> / <code>ResponsiveGrid</code> / <code>ResponsiveFlex</code> / <code>ResponsiveStack</code></td><td>常见布局容器，自动同步 CSS 变量、支持主题覆盖</td></tr><tr><td><code>ResponsiveMasonry</code></td><td>支持列权重、虚拟滚动、懒加载、<code>scrollToItem</code>、<code>preserveScroll</code> 等高级能力</td></tr><tr><td><code>ThemeProvider</code> / <code>useTheme</code></td><td>Vue 与 React 统一主题接口</td></tr></tbody></table><h3 id="masonry-亮点" tabindex="-1">Masonry 亮点 <a class="header-anchor" href="#masonry-亮点" aria-label="Permalink to &quot;Masonry 亮点&quot;">​</a></h3><ul><li><strong>虚拟滚动</strong>：<code>virtual</code> + <code>overscanForward/Backward</code> 精细控制可见区域</li><li><strong>懒加载</strong>：基于 <code>IntersectionObserver</code>，支持 <code>destroyInvisible</code> 回收不可见节点</li><li><strong>调度</strong>：<code>observeResize</code> / <code>queueLayout</code> 使用 RAF 合并重绘</li><li><strong>调试 API</strong>：<code>scrollToItem(id)</code>、<code>getLayoutSnapshot()</code>、<code>columnHeights</code> 缓存</li></ul><h3 id="polyfill-与兼容" tabindex="-1">Polyfill 与兼容 <a class="header-anchor" href="#polyfill-与兼容" aria-label="Permalink to &quot;Polyfill 与兼容&quot;">​</a></h3><ul><li><code>ensureResponsivePolyfills()</code> 一键加载 <code>ResizeObserver</code>、<code>IntersectionObserver</code>、<code>smoothscroll-polyfill</code></li><li>提供 <code>requestAnimationFrame</code> 降级策略，可在老旧浏览器 fallback 至 <code>setTimeout</code></li><li>支持 <code>vue-demi</code> + <code>@vue/composition-api</code> 兼容 Vue 2</li></ul><h3 id="类型系统" tabindex="-1">类型系统 <a class="header-anchor" href="#类型系统" aria-label="Permalink to &quot;类型系统&quot;">​</a></h3><ul><li>完整的 TypeScript 定义，<code>styled</code> 泛型保证 props / attrs 推导</li><li><code>@tlgf/responsive/core/*</code> 暴露 <code>ResponsiveSnapshot</code>、<code>ResponsiveOptions</code> 等类型别名</li><li>React 端提供 <code>ResponsiveContextValue</code>、Vue 端提供 <code>ResponsiveInjectionKey</code></li></ul><h2 id="进一步阅读" tabindex="-1">进一步阅读 <a class="header-anchor" href="#进一步阅读" aria-label="Permalink to &quot;进一步阅读&quot;">​</a></h2><ul><li>按需引入与组件级 Tree-Shaking：<code>指南 → 按需引入</code></li><li>Masonry 性能 Profiling 与调优建议：<code>指南 → 性能调优</code></li><li>更多 API、Polyfill 细节可查看仓库中的 <code>responsive/README.md</code></li></ul><h2 id="典型场景" tabindex="-1">典型场景 <a class="header-anchor" href="#典型场景" aria-label="Permalink to &quot;典型场景&quot;">​</a></h2><ul><li><strong>桌面端后台 / 电商</strong>：结合 <code>pcPreset</code>、自定义列权重，驱动复杂表单与商品瀑布流</li><li><strong>移动端 H5 / 小程序外壳</strong>：使用 <code>minScale</code> 限制缩放，依赖 <code>cssVar()</code> 构建流式布局</li><li><strong>数据可视化大屏</strong>：通过 <code>initialSnapshot</code> 注入固定分辨率，利用 <code>ResponsiveStack</code> 组合不同区域</li><li><strong>混合渲染</strong>：SSR + <code>suppressInitialDomWrite</code> 避免首帧闪烁，配合 <code>ensureResponsivePolyfills()</code> 兼容老旧设备</li></ul><p>更多进阶主题请查看侧边栏：包括 <strong>按需引入</strong> 与 <strong>性能调优</strong>。</p>`,32)]])}var s=n(a,[[`render`,o]]);export{i as __pageData,s as default};