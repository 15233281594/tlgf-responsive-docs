<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API 参考 | FT Responsive</title>
    <meta name="description" content="跨框架 styled 响应式插件">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.BIqdX8dZ.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.C80fmVtL.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C7gQUmET.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Btc0H-le.js">
    <link rel="modulepreload" href="/assets/guide_api.md.BFoNKXOX.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>FT Responsive</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/getting-started.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>快速开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/layout.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>布局组件</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/masonry.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Masonry</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/styling.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>样式与响应式</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/tree-shaking.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>按需引入</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/ssr.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>SSR 与兼容</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/api.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>API 参考</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/performance.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>性能调优</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/faq.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>FAQ</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ft-shop/responsive" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ft-shop/responsive" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>指南</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/getting-started.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>快速开始</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/layout.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>布局组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/masonry.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Masonry</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/styling.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>样式与响应式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/tree-shaking.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>按需引入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/ssr.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SSR 与兼容</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/api.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>API 参考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/performance.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>性能调优</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/guide/faq.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>常见问题 FAQ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _guide_api" data-v-39a288b8><div><h1 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to &quot;API 参考&quot;">​</a></h1><p>汇总 runtime、Vue / React 适配层、Masonry 组件以及类型导出，帮助你快速定位可用能力。</p><h2 id="runtime-核心" tabindex="-1">Runtime 核心 <a class="header-anchor" href="#runtime-核心" aria-label="Permalink to &quot;Runtime 核心&quot;">​</a></h2><h3 id="createresponsivemanager-options-responsiveoptions" tabindex="-1"><code>createResponsiveManager(options?: ResponsiveOptions)</code> <a class="header-anchor" href="#createresponsivemanager-options-responsiveoptions" aria-label="Permalink to &quot;`createResponsiveManager(options?: ResponsiveOptions)`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>designWidth</code></td><td><code>number</code></td><td>视觉稿基准宽度（默认 1440）</td></tr><tr><td><code>minScale</code> / <code>maxScale</code></td><td><code>number</code></td><td>限制缩放区间，防止极端屏幕变形</td></tr><tr><td><code>breakpoints</code></td><td><code>Partial&lt;Record&lt;string, number&gt;&gt;</code></td><td>自定义断点，默认含 <code>xs/sm/md/lg/xl</code></td></tr><tr><td><code>initialSnapshot</code></td><td><code>{ viewportWidth?: number; scale?: number; fontScale?: number; devicePixelRatio?: number; breakpoint?: string; }</code></td><td>SSR 注入初始状态</td></tr><tr><td><code>skipInitialUpdate</code></td><td><code>boolean</code></td><td>创建后不立刻触发 <code>update()</code>，由调用方手动控制</td></tr><tr><td><code>suppressInitialDomWrite</code></td><td><code>boolean</code></td><td>首帧不写 CSS 变量，待 <code>flushDom()</code> 触发</td></tr></tbody></table><p>返回对象：</p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><code>getState()</code></td><td>获取最新 <code>ResponsiveSnapshot</code></td></tr><tr><td><code>subscribe(listener)</code></td><td>订阅状态变更，返回取消函数</td></tr><tr><td><code>update()</code></td><td>读取容器尺寸，并计划在下一帧刷新 CSS 变量</td></tr><tr><td><code>flushDom()</code></td><td>立即写入 CSS 变量和派发订阅，常用于 SSR Hydration</td></tr><tr><td><code>destroy()</code></td><td>移除监听与样式挂载</td></tr></tbody></table><h3 id="其他核心导出" tabindex="-1">其他核心导出 <a class="header-anchor" href="#其他核心导出" aria-label="Permalink to &quot;其他核心导出&quot;">​</a></h3><ul><li><code>ensureResponsivePolyfills(options?: { smoothScroll?: boolean })</code></li><li><code>registerStyle</code>, <code>releaseStyle</code>, <code>createClassName</code>（手动控制样式注册）</li><li><code>DEFAULT_BREAKPOINTS</code>, <code>RESPONSIVE_CSS_VARIABLES</code>, <code>clamp</code>, <code>computeBreakpoint</code></li><li>类型：<code>ResponsiveOptions</code>, <code>ResponsiveSnapshot</code>, <code>ResponsiveManager</code></li><li><code>ResponsiveContext</code>（通过 <code>useResponsive()</code> 获取）：提供 <code>scale</code>、<code>fontScale</code> 等响应式 ref，并内置 <code>px(value)</code>、<code>rem(value)</code>、<code>cssVar(name)</code>、<code>vars</code> 等工具，便于在模板与自定义组件中构造样式。</li></ul><h2 id="vue-相关" tabindex="-1">Vue 相关 <a class="header-anchor" href="#vue-相关" aria-label="Permalink to &quot;Vue 相关&quot;">​</a></h2><table tabindex="0"><thead><tr><th>能力</th><th>说明</th></tr></thead><tbody><tr><td><code>createResponsivePlugin(options?)</code></td><td>安装插件，自动注入 manager；Vue 2 会自动挂载 <code>@vue/composition-api</code>（如有必要）</td></tr><tr><td><code>useResponsive()</code></td><td>返回 <code>ResponsiveSnapshot</code>，响应式更新</td></tr><tr><td>组件</td><td><code>ResponsiveContainer</code>、<code>ResponsiveGrid</code>、<code>ResponsiveFlex</code>、<code>ResponsiveStack</code>、<code>ResponsiveMasonry</code></td></tr><tr><td><code>styled</code></td><td><code>styled.div</code> / <code>styled(Component)</code> 模板字符串 API</td></tr><tr><td><code>ThemeProvider</code> / <code>useTheme()</code></td><td>注入主题对象</td></tr></tbody></table><blockquote><p>Vue 2 需额外 <code>Vue.use(@vue/composition-api)</code>。</p></blockquote><h2 id="react-相关" tabindex="-1">React 相关 <a class="header-anchor" href="#react-相关" aria-label="Permalink to &quot;React 相关&quot;">​</a></h2><table tabindex="0"><thead><tr><th>能力</th><th>说明</th></tr></thead><tbody><tr><td><code>ResponsiveProvider</code></td><td>创建/销毁 <code>ResponsiveManager</code>，向 context 注入状态</td></tr><tr><td><code>useResponsive()</code></td><td>访问 <code>ResponsiveSnapshot</code></td></tr><tr><td><code>useResponsiveManager()</code></td><td>直接拿到 <code>ResponsiveManager</code> 实例</td></tr><tr><td>组件</td><td><code>ResponsiveContainer</code>、<code>ResponsiveGrid</code>、<code>ResponsiveFlex</code>、<code>ResponsiveStack</code>、<code>ResponsiveMasonry</code></td></tr><tr><td><code>styled</code></td><td><code>styled.div</code> / <code>styled(Component)</code>，支持 <code>.attrs()</code>、<code>.withConfig()</code></td></tr><tr><td><code>ThemeProvider</code> / <code>useTheme()</code></td><td>主题注入</td></tr></tbody></table><h2 id="masonry-组件-api" tabindex="-1">Masonry 组件 API <a class="header-anchor" href="#masonry-组件-api" aria-label="Permalink to &quot;Masonry 组件 API&quot;">​</a></h2><p>| 属性 | 类型 | 说明 | | ------------------------------------------------- | --------------------------------- | --------------------------------------- | ------------------------ | | <code>items</code> | <code>Array&lt;any&gt;</code> | 渲染数据列表，需提供 <code>key</code> 或 <code>trackBy</code> | | <code>columns</code> | <code>number</code> \ | <code>ResponsiveColumnSpec</code> | 列数，支持断点配置或函数 | | <code>columnWeights</code> | <code>number[]</code> | 自定义列权重，平衡高度 | | <code>gutter</code> | <code>number</code> / <code>ResponsiveGap</code> | 列/行间距 | | <code>virtual</code> | <code>boolean</code> | 开启虚拟滚动，仅渲染可见元素 | | <code>overscan</code>, <code>overscanForward</code>, <code>overscanBackward</code> | <code>number</code> | 额外渲染高度，单位 px | | <code>renderAhead</code> | <code>number</code> | 提前渲染的额外卡片数量 | | <code>preserveScroll</code> | <code>boolean</code> | 销毁/重建时保持滚动条位置 | | <code>destroyInvisible</code> | <code>boolean</code> | 隐藏不可见节点以减小 DOM | | <code>lazyload</code> | <code>boolean</code> | IntersectionObserver 懒加载 | | <code>scrollContainer</code> | <code>HTMLElement</code> / <code>Window</code> | 自定义滚动容器 | | <code>onVisibleChange</code> | <code>(visibleKeys: string[]) =&gt; void</code> | 可见元素变化回调 | | <code>getLayoutSnapshot</code> | <code>() =&gt; MasonrySnapshot</code> | 获取内部布局信息 |</p><p>方法（通过引用获取）：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> masonryRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ResponsiveMasonryExpose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">masonryRef.value?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrollToItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item-42&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { behavior: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;smooth&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><h2 id="样式与-css-变量-摘要" tabindex="-1">样式与 CSS 变量（摘要） <a class="header-anchor" href="#样式与-css-变量-摘要" aria-label="Permalink to &quot;样式与 CSS 变量（摘要）&quot;">​</a></h2><p>详见“样式与响应式”章节：</p><ul><li><code>--rs-scale</code>, <code>--rs-font-scale</code>, <code>--rs-breakpoint</code>, <code>--rs-viewport-width</code></li><li><code>cssVar()</code>, <code>themeVar()</code> 辅助函数</li><li><code>styled.attrs()</code>、<code>styled.withConfig()</code> 类型推导</li></ul><h2 id="polyfill" tabindex="-1">Polyfill <a class="header-anchor" href="#polyfill" aria-label="Permalink to &quot;Polyfill&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ensureResponsivePolyfills } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tlgf/responsive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ensureResponsivePolyfills</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ smoothScroll: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><table tabindex="0"><thead><tr><th>能力</th><th>默认支持浏览器</th><th>Polyfill</th></tr></thead><tbody><tr><td>ResizeObserver</td><td>Chrome 64 / Safari 13</td><td><code>@juggle/resize-observer</code></td></tr><tr><td>IntersectionObserver</td><td>Chrome 51 / Safari 12</td><td><code>intersection-observer</code></td></tr><tr><td>Smooth Scroll</td><td>Chrome 61 / Safari 15</td><td><code>smoothscroll-polyfill</code></td></tr></tbody></table><h2 id="类型导出与子路径" tabindex="-1">类型导出与子路径 <a class="header-anchor" href="#类型导出与子路径" aria-label="Permalink to &quot;类型导出与子路径&quot;">​</a></h2><table tabindex="0"><thead><tr><th>入口</th><th>描述</th></tr></thead><tbody><tr><td><code>@tlgf/responsive</code></td><td>Vue 通用总入口</td></tr><tr><td><code>@tlgf/responsive/react</code></td><td>React 适配层</td></tr><tr><td><code>@tlgf/responsive/core</code></td><td>全量核心导出</td></tr><tr><td><code>@tlgf/responsive/core/responsiveManager</code></td><td>仅导入 manager 相关</td></tr><tr><td><code>@tlgf/responsive/core/styleRegistry</code></td><td>样式注册工具</td></tr><tr><td><code>@tlgf/responsive/core/constants</code></td><td>常量与工具函数</td></tr></tbody></table><p>常见类型别名：</p><ul><li><code>ResponsiveSnapshot</code></li><li><code>ResponsiveOptions</code></li><li><code>ResponsiveBreakpoint</code></li><li><code>ResponsiveMasonryProps</code></li><li><code>StyledComponent&lt;P&gt;</code></li></ul><h2 id="多端支持总结" tabindex="-1">多端支持总结 <a class="header-anchor" href="#多端支持总结" aria-label="Permalink to &quot;多端支持总结&quot;">​</a></h2><ul><li><strong>PC</strong>：适合后台面板、电商瀑布流，依赖多列 Masonry + <code>columnWeights</code></li><li><strong>移动端</strong>：<code>minScale</code> 保持可用性，<code>ResponsiveFlex</code> 构建竖向流式布局</li><li><strong>大屏可视化</strong>：<code>initialSnapshot</code> 注入固定宽度，<code>suppressInitialDomWrite</code> 平滑 SSR</li><li><strong>混合应用</strong>：通过 <code>ensureResponsivePolyfills()</code> 覆盖低版本浏览器或 WebView</li></ul><p>若需更细的属性说明，可以在 IDE 中直接引用类型或查阅源码注释，文档保持与最新构建同步。</p><table tabindex="0"><thead><tr><th>组件</th><th>Props</th><th>说明</th></tr></thead><tbody><tr><td><code>ResponsiveContainer</code></td><td><code>tag</code>、<code>designWidth</code>、<code>minScale</code>、<code>maxScale</code>、<code>skipInitialUpdate</code> 等</td><td>提供 CSS 变量、监听容器尺寸</td></tr><tr><td><code>ResponsiveGrid</code></td><td><code>cols</code>、<code>gap</code>、<code>align</code>、<code>responsive</code></td><td>多断点列数、间距配置</td></tr><tr><td><code>ResponsiveFlex</code></td><td><code>direction</code>、<code>wrap</code>、<code>gap</code>、<code>responsive</code></td><td>响应式 Flex 布局</td></tr><tr><td><code>ResponsiveStack</code></td><td><code>spacing</code>、<code>divider</code>、<code>responsive</code></td><td>栈式布局，支持断点间距</td></tr><tr><td><code>ResponsiveMasonry</code></td><td><code>virtual</code>、<code>overscanForward</code>、<code>columnWeights</code>、<code>destroyInvisible</code> 等</td><td>多列瀑布流，支持虚拟滚动、懒加载、<code>scrollToItem</code></td></tr></tbody></table><h4 id="masonry-事件与方法" tabindex="-1">Masonry 事件与方法 <a class="header-anchor" href="#masonry-事件与方法" aria-label="Permalink to &quot;Masonry 事件与方法&quot;">​</a></h4><ul><li><code>@visible-change</code>：返回当前可见元素列表</li><li><code>@lazy-load</code>：异步加载下一批数据</li><li><code>ref.getLayoutSnapshot()</code>：拿到列高度、滚动位置</li><li><code>ref.scrollToItem(id, options)</code>：滚动到指定卡片</li></ul><h3 id="主题与-styled" tabindex="-1">主题与 styled <a class="header-anchor" href="#主题与-styled" aria-label="Permalink to &quot;主题与 styled&quot;">​</a></h3><table tabindex="0"><thead><tr><th>API</th><th>说明</th></tr></thead><tbody><tr><td><code>styled.tag</code> / <code>styled(Component)</code></td><td>创建具备响应式能力的样式组件</td></tr><tr><td><code>styled.attrs(updater)</code></td><td>动态注入属性，支持类型推导</td></tr><tr><td><code>styled.withConfig(options)</code></td><td>覆盖 <code>displayName</code>、<code>shouldForwardProp</code> 等配置</td></tr><tr><td><code>ThemeProvider</code> / <code>useTheme()</code></td><td>提供/获取主题对象，与响应式变量协同</td></tr><tr><td><code>cssVar(name, fallback?)</code></td><td>快速引用 CSS 变量（如 <code>var(--rs-scale)</code>）</td></tr><tr><td><code>themeVar(path, fallback?)</code></td><td>读取主题中的层级属性</td></tr></tbody></table><h4 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Card</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> styled.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">div</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  width: calc(300px * ${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cssVar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scale&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">});</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  border-radius: ${</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">props</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">props</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rounded</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;16px&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;8px&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">};</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  background: ${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">themeVar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;colors.surface&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">};</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HoverCard</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Card.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">attrs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ role: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;article&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  displayName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HoverCard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  transition: transform 0.2s;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &amp;:hover {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    transform: translateY(-4px);</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="react-端入口-ft-responsive-react" tabindex="-1">React 端入口 (<code>@ft/responsive/react</code>) <a class="header-anchor" href="#react-端入口-ft-responsive-react" aria-label="Permalink to &quot;React 端入口 (`@ft/responsive/react`)&quot;">​</a></h2><table tabindex="0"><thead><tr><th>API</th><th>说明</th></tr></thead><tbody><tr><td><code>ResponsiveProvider(options?)</code></td><td>与 Vue 插件等价，自动托管 manager 生命周期，内部对 <code>options</code> 做浅比较避免重复创建 manager</td></tr><tr><td><code>useResponsive()</code></td><td>React Hook 版本的状态读取</td></tr><tr><td><code>ResponsiveContainer</code> / <code>ResponsiveGrid</code> / <code>ResponsiveFlex</code> / <code>ResponsiveStack</code></td><td>与 Vue 版本 props 一致，内部使用 <code>forwardRef</code></td></tr><tr><td><code>ResponsiveMasonry</code></td><td>支持 <code>renderItem</code>、<code>itemKey</code>、<code>virtual</code> 等 props，方法与事件通过 ref 暴露</td></tr><tr><td><code>styled</code>、<code>ThemeProvider</code>、<code>useTheme</code></td><td>与 Vue 版本 API 对齐，类型定义基于 <code>React.ElementType</code></td></tr></tbody></table><h2 id="polyfill-与工具" tabindex="-1">Polyfill 与工具 <a class="header-anchor" href="#polyfill-与工具" aria-label="Permalink to &quot;Polyfill 与工具&quot;">​</a></h2><ul><li><code>ensureResponsivePolyfills(options?)</code><ul><li><code>resizeObserver</code>（默认开启）</li><li><code>intersectionObserver</code></li><li><code>smoothScroll</code></li><li>调用方式：<code>await ensureResponsivePolyfills({ smoothScroll: true });</code></li></ul></li><li><code>observeResize(element, callback)</code>：独立使用的尺寸监听工具</li><li><code>observeVisibility(element, callback)</code>：IntersectionObserver 封装（主要内部使用）</li></ul><h2 id="样式与变量约定" tabindex="-1">样式与变量约定 <a class="header-anchor" href="#样式与变量约定" aria-label="Permalink to &quot;样式与变量约定&quot;">​</a></h2><ul><li>全局变量前缀 <code>--rs-*</code><ul><li><code>--rs-scale</code>、<code>--rs-font-scale</code></li><li><code>--rs-viewport-width</code></li><li><code>--rs-breakpoint</code></li></ul></li><li>响应式 mixins（CSS 示例）：</li></ul><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --card-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">calc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--rs-scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.masonry-item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--card-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="多端适配策略" tabindex="-1">多端适配策略 <a class="header-anchor" href="#多端适配策略" aria-label="Permalink to &quot;多端适配策略&quot;">​</a></h2><ul><li><strong>PC 端</strong>：结合多列 <code>ResponsiveGrid</code>/<code>ResponsiveMasonry</code>，通过 <code>columnWeights</code> 控制列宽分布</li><li><strong>移动端</strong>：<code>minScale</code>、<code>maxScale</code> 控制缩放区间，触摸场景可开启 <code>preserveScroll</code></li><li><strong>大屏/看板</strong>：使用自定义断点（如 <code>xxxl</code>），并通过 <code>initialSnapshot</code> 提前注入 <code>viewportWidth</code></li><li>支持在 SSR 时先输出 CSS 变量（<code>suppressInitialDomWrite: true</code> + <code>flushDom()</code>），避免首屏闪烁</li></ul><h2 id="组合建议" tabindex="-1">组合建议 <a class="header-anchor" href="#组合建议" aria-label="Permalink to &quot;组合建议&quot;">​</a></h2><ol><li><strong>按需引入</strong>：搭配 <code>unplugin-auto-import</code> 或 <code>babel-plugin-import</code>，只打包使用到的组件。</li><li><strong>性能</strong>：Virtual 模式 + 合理的 <code>overscan</code> / <code>renderAhead</code>，大数据集依旧流畅。</li><li><strong>主题</strong>：在 PC/移动端共享 <code>ThemeProvider</code>，通过断点差异化出不同的主题 token。</li><li><strong>调试</strong>：利用 <code>getLayoutSnapshot()</code>、DevTools Performance，结合本文档的性能章节进行 Profiling。</li></ol><p>如需未列出的内部工具或类型别名，欢迎在 Issue 中反馈，我们会持续补充。</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><!----><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2025-11-12T01:15:46.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/guide/ssr.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>SSR 与兼容</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/guide/performance.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>性能调优</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_api.md\":\"BFoNKXOX\",\"guide_faq.md\":\"BeY6qoA3\",\"guide_getting-started.md\":\"2epeSRHV\",\"guide_layout.md\":\"OfPb9VFQ\",\"guide_masonry.md\":\"DiHJqSva\",\"guide_performance.md\":\"CSC3B-_7\",\"guide_ssr.md\":\"ETUsSfFZ\",\"guide_styling.md\":\"Czx4n50z\",\"guide_tree-shaking.md\":\"SXK296NX\",\"index.md\":\"N7BbXy-m\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"FT Responsive\",\"description\":\"跨框架 styled 响应式插件\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"快速开始\",\"link\":\"/guide/getting-started\"},{\"text\":\"布局组件\",\"link\":\"/guide/layout\"},{\"text\":\"Masonry\",\"link\":\"/guide/masonry\"},{\"text\":\"样式与响应式\",\"link\":\"/guide/styling\"},{\"text\":\"按需引入\",\"link\":\"/guide/tree-shaking\"},{\"text\":\"SSR 与兼容\",\"link\":\"/guide/ssr\"},{\"text\":\"API 参考\",\"link\":\"/guide/api\"},{\"text\":\"性能调优\",\"link\":\"/guide/performance\"},{\"text\":\"FAQ\",\"link\":\"/guide/faq\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"指南\",\"items\":[{\"text\":\"快速开始\",\"link\":\"/guide/getting-started\"},{\"text\":\"布局组件\",\"link\":\"/guide/layout\"},{\"text\":\"Masonry\",\"link\":\"/guide/masonry\"},{\"text\":\"样式与响应式\",\"link\":\"/guide/styling\"},{\"text\":\"按需引入\",\"link\":\"/guide/tree-shaking\"},{\"text\":\"SSR 与兼容\",\"link\":\"/guide/ssr\"},{\"text\":\"API 参考\",\"link\":\"/guide/api\"},{\"text\":\"性能调优\",\"link\":\"/guide/performance\"},{\"text\":\"常见问题 FAQ\",\"link\":\"/guide/faq\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ft-shop/responsive\"}],\"outline\":\"deep\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>